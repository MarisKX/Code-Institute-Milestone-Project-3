{% extends "manager-dashboard/base.html" %}
{% block content %}

<div class='border-line'></div>
<button onclick=showAllRentalCars() 
    class="waves-effect waves-light green darken-1 btn"><i 
    class="fas fa-car-alt left"></i><i 
    class="fas fa-car left"></i> All cars</button>
<button onclick=carsAvailableForRent() 
    class="waves-effect waves-light green darken-1 btn"><i 
    class="fas fa-car-alt left"></i>Available for Rent</button>
<button onclick=archivedRentalCars() 
    class="waves-effect waves-light green darken-1 btn"><i 
    class="fas fa-archive left"></i>Archive</button>
<button class="waves-effect waves-light green darken-1 btn"><a 
    class="add-car-btn" href="{{ url_for('add_car_for_rent') }}"><i 
    class="far fa-plus-square left"></i>Add New Car for Rent</a></button>

<table class="list-table">
    <tr>
        <th class="tooltipped" data-position="down" data-tooltip="Internal ID number of car">Car ID</th>
        <th class="tooltipped" data-position="down" data-tooltip="Date of car being added to database">Since</th>
        <th class="tooltipped" data-position="down" data-tooltip="Make">Make</th>
        <th class="tooltipped" data-position="down" data-tooltip="Model">Model</th>
        <th class="tooltipped" data-position="down" data-tooltip="Year of first registration">Year</th>
        <th class="tooltipped" data-position="down" data-tooltip="Engine (1.6i/2.2TiD/1.5CRDi)">Engine</th>
        <th class="tooltipped" data-position="down" data-tooltip="Fuel Type (petrol/diesel/electric etc">Fuel type</th>
        <th class="tooltipped" data-position="down" data-tooltip="Sales Price">Price</th>
        <th class="tooltipped" data-position="down" data-tooltip="View listing"></th>
        <th class="tooltipped" data-position="down" data-tooltip="Edit listing"></th>
        <th class="tooltipped" data-position="down" data-tooltip="Change availability"></th>
        <th class="tooltipped" data-position="down" data-tooltip="Put item in archive"></th>
    </tr>
    {% for cfr in carsfr %}
        {% if cfr.available == "yes" and cfr.archived == "no" %}
            <tr class="rental-cars">
                <td>{{ cfr.car_id }}</td>
                <td>{{ cfr.created }}</td>
                <td>{{ cfr.make }}</td>
                <td>{{ cfr.model}}</td>
                <td>{{ cfr.year }}</td>
                <td>{{ cfr.engine }}</td>
                <td>{{ cfr.fuel }}</td> 
                <td class="right">{{ cfr.price }} <i class="fas fa-euro-sign"></i>/24h</td>
                <td><button class="list-item-btn"><a 
                    href="{{ url_for('rental_car_details', rent_id=cfr._id) }}"><i 
                    class="green-text text-darken-1 far fa-chart-bar"></i></a></button></td>
                <td><button class="list-item-btn"><a 
                    href="{{ url_for('edit_car_for_rent', rent_id=cfr._id) }}"><i 
                    class="green-text text-darken-1 fas fa-pen"></i></a></button>
                </td>
                <td><button class="list-item-btn"><a 
                    href="{{ url_for('change_availability', rent_id=cfr._id) }}"><i 
                    class="green-text text-darken-1 fas fa-minus-circle"></i></a></button>
                </td>
                <td><button class="list-item-btn"><i 
                    class="grey-text text-darken-1 disabled fas fa-archive"></i></button>
                </td>
            </tr>
        {% else %}
            <tr class="all-rental-cars hidden">
                <td>{{ cfr.car_id }}</td>
                <td>{{ cfr.created }}</td>
                <td>{{ cfr.make }}</td>
                <td>{{ cfr.model}}</td>
                <td>{{ cfr.year }}</td>
                <td>{{ cfr.engine }}</td>
                <td>{{ cfr.fuel }}</td> 
                <td class="right">{{ cfr.price }} <i class="fas fa-euro-sign"></i></td>
                <td><button class="list-item-btn"><a 
                    href="{{ url_for('rental_car_details', rent_id=cfr._id) }}"><i 
                    class="green-text text-darken-1 far fa-chart-bar"></i></a></button></td>
                <td><button class="list-item-btn"><a 
                    href="{{ url_for('edit_car_for_rent', rent_id=cfr._id) }}"><i 
                    class="green-text text-darken-1 fas fa-pen"></i></a></button>
                </td>
                <td><button class="list-item-btn"><a 
                    href="{{ url_for('change_availability', rent_id=cfr._id) }}"><i 
                    class="green-text text-darken-1 fa-check-circle"></i></a></button>
                </td>
                <td><button class="list-item-btn"><i 
                    class="grey-text text-darken-1 disabled fas fa-archive"></i></button>
                </td>
            </tr>
        {% endif %}

    {% endfor %}


{% endblock %}